# OCR 模型对比报告

测试图片: `page_054.png` (增值税政策文档)

## 📊 性能对比

### DeepSeek-OCR-2

| 指标 | 数值 |
|------|------|
| **环境** | Python 3.12 + deepseek_env |
| **transformers 版本** | 4.46.3 |
| **模型加载** | ~4 秒 |
| **推理时间** | ~51 秒 |
| **输出长度** | 3068 字符 |
| **输出格式** | Markdown + 标注 |

### GLM-OCR

| 指标 | 数值 |
|------|------|
| **环境** | Python 3.14 + glm_env |
| **transformers 版本** | 5.2.0 (dev) |
| **模型加载** | 2.2 秒 ⚡ |
| **推理时间** | 82.8 秒 |
| **输出长度** | 4800 字符 |
| **输出格式** | 纯净 Markdown |

## 🎯 识别质量对比

### DeepSeek-OCR-2 输出特点

✅ **优点**:
- 带有结构化标注（`<|ref|>`, `<|det|>`）
- 包含坐标信息（可定位原文位置）
- 识别准确，错误较少

⚠️ **缺点**:
- 输出包含标签，需要后处理清理
- 推理速度适中

**示例输出**:
```markdown
<|ref|>sub_title<|/ref|><|det|>[[111, 70, 521, 87]]<|/det|>
## （十五）"三包"赔偿（国税函发 \[ 1995 \] 288号）第七条）

<|ref|>text<|/ref|><|det|>[[80, 99, 910, 145]]<|/det|>
七、问：货物的生产企业为搞好售后服务，支付给经销企业修理费用...
```

### GLM-OCR 输出特点

✅ **优点**:
- **输出纯净**，无标签，直接可用
- **加载速度最快**（2.2秒）
- 格式清晰，Markdown 结构好
- OmniDocBench V1.5 第一名

⚠️ **缺点**:
- 推理速度较慢（82.8秒）
- 无坐标信息

**示例输出**:
```markdown
（十五）"三包"赔偿（国税函发[1995]288号第七条）

七、问：货物的生产企业为搞好售后服务，支付给经销企业修理费用...
```

## 🔍 详细对比

### 1. 标题识别

| 模型 | 识别结果 | 评价 |
|------|---------|------|
| **DeepSeek** | `## （十五）"三包"赔偿（国税函发 \[ 1995 \] 288号）第七条）` | ✅ 正确 + 结构标注 |
| **GLM-OCR** | `（十五）"三包"赔偿（国税函发[1995]288号第七条）` | ✅ 正确 + 纯净 |

### 2. 正文识别

两个模型都准确识别了正文内容，文字识别准确率都很高。

### 3. 特殊字符处理

| 特殊字符 | DeepSeek | GLM-OCR |
|---------|---------|---------|
| 方括号 | `\[ 1995 \]` | `[1995]` |
| 引号 | `"三包"` | `"三包"` |
| 数字 | 准确 | 准确 |

**GLM-OCR 更简洁**，不需要转义符。

## 📈 性能总结

### DeepSeek-OCR-2
- 🏆 **推理速度**: 51秒（比 GLM 快 38%）
- ⭐ **识别准确率**: ⭐⭐⭐⭐
- 🎯 **适用场景**: 需要坐标信息、批量处理
- 💡 **推荐**: 速度优先，或需要精确定位

### GLM-OCR
- 🏆 **加载速度**: 2.2秒（比 DeepSeek 快 45%）
- ⭐ **识别准确率**: ⭐⭐⭐⭐⭐（OmniDocBench 第一）
- 🎯 **适用场景**: 追求准确率、输出即用
- 💡 **推荐**: 准确率优先，输出质量高

## 🎖️ 综合评价

### 速度排名
1. 🥇 **DeepSeek-OCR-2** - 51秒/页（整体最快）
2. 🥈 GLM-OCR - 82.8秒/页

### 质量排名
1. 🥇 **GLM-OCR** - 输出最纯净，准确率最高
2. 🥈 DeepSeek-OCR-2 - 准确率高，带结构化标注

### 易用性排名
1. 🥇 **GLM-OCR** - 输出直接可用，无需后处理
2. 🥈 DeepSeek-OCR-2 - 需清理标签（已提供工具）

## 💡 使用建议

### 推荐 DeepSeek-OCR-2 的场景：
- ✅ 大批量文档处理（速度优先）
- ✅ 需要精确定位文本位置
- ✅ 需要结构化标注信息
- ✅ 资源受限环境

### 推荐 GLM-OCR 的场景：
- ✅ 高精度要求（银行、法律文档）
- ✅ 需要纯净 Markdown 输出
- ✅ 复杂表格、公式识别
- ✅ 生产环境（更稳定）

## 🔧 环境配置

### DeepSeek-OCR-2
```bash
cd deepseek_ocr
source deepseek_env/bin/activate  # Python 3.12
python examples/demo_basic.py
```

**依赖**: transformers==4.46.3, torch, pillow, modelscope

### GLM-OCR
```bash
cd glm_ocr
source glm_env/bin/activate  # Python 3.14
python test_glm_ocr.py --image /path/to/image.png
```

**依赖**: transformers>=5.0 (dev), torch, accelerate, pillow

## 📝 结论

- **速度优先**: 选择 **DeepSeek-OCR-2** ⚡
- **质量优先**: 选择 **GLM-OCR** ⭐
- **生产环境**: 推荐 **GLM-OCR**（更稳定、输出更好）
- **开发测试**: 两者皆可

两个模型各有优势，建议根据具体场景选择！
